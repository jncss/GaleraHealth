#!/bin/bash

echo "=== Testing English Messages in Cluster Summary ==="
echo ""

echo "1. Perfect Health (Single Node):"
echo -e "10.1.1.91\nroot\nn\n" | timeout 10s ./galerahealth 2>/dev/null | grep -A 10 "CLUSTER HEALTH SUMMARY"

echo ""
echo "Expected outputs with issues (examples):"
echo ""
echo "âŒ CRITICAL ISSUES DETECTED:"
echo "   1. MySQL/MariaDB not responding on 1/3 nodes"
echo "   2. Nodes not synchronized: 1/2"
echo ""
echo "ğŸ“Š STATUS SUMMARY:"
echo "   ğŸ  Total nodes: 3"
echo "   âš™ï¸  Configuration coherent: âœ…"
echo "   ğŸ”— MySQL/MariaDB active: 2/3 âŒ"
echo "   âœ… Nodes ready: 2/2 âœ…"
echo "   ğŸ¯ Primary state: 2/2 âœ…"
echo "   ğŸ”„ Nodes synchronized: 1/2 âŒ"
echo ""
echo "ğŸš¨ ACTION REQUIRED: Cluster has issues that need immediate attention"
echo ""
echo "âš ï¸  WARNINGS:"
echo "   1. Only 2/3 nodes in Primary state"
echo ""
echo "âš ï¸  ATTENTION: Cluster is functional but has minor warnings"
